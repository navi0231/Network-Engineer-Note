### 9.2.1 ipconfig
<details><summary><font size="5"> 9.2.1 内容 </summary>

> - ipconfig是Windows系统最常见的网络管理工具，可以显示所有网卡的TCP/IP配置
- ipconfig的语法如下：
   - ipconfig [[/all]](#ipconfig_all) [[/renew [Adapter]]](#ipconfig_renew) [[/release [Adapter]]](#ipconfig_release) [[/flushdns]](#ipconfig_flushdns) [[/displaydns]](#ipconfig_displaydns) [[/registerdns]](#ipconfig_registerdns) [[/showclassid [Adapter]]](#ipconfig_showclassid) [[/setclassid Adapter [ClassID]]](#ipconfig_setclassid)
  
- 以上参数具体解读如下：

|参数|具体解释|
|---:|---:|
|/?|显示帮助信息|
|<span id="ipconfig_all"> /all </span>|显示所有网卡的完整 TCP/IP 配置信息|
|<span id="ipconfig_renew"> /renew [
*Adapter* </span>|更新指定网卡的 DHCP 配置|
|<span id="ipconfig_release"> /release *Adapter* </span>|释放指定网卡的 IPv4 地址，断开 DHCP 租约|
|<span id="ipconfig_flushdns"> /flushdns </span>|**刷新并清除客户端 DNS 缓存内容**|
|<span id="ipconfig_displaydns"> /displaydns </span>|显示当前 DNS 缓存中的内容|
|<span id="ipconfig_registerdns"> /registerdns </span>|刷新所有 DHCP 租约并重新注册 DNS 名字|
|<span id="ipconfig_showclassid"> /showclassid *Adapter* </span>|显示网卡的 DHCP 类别 ID|
|<span id="ipconfig_setclassid">/setclassid *Adapter* [*ClassID*] </span>|对指定的网卡(Adapter)设置DHCP类别ID|

- 具体实例：
```
Windows IP Configuration

   Host Name . . . . . . . . . . . . : network_Adapter
   Primary Dns Suffix  . . . . . . . : 
   Node Type . . . . . . . . . . . . : Unknown
   IP Routing Enabled. . . . . . . . : No
   WINS Proxy Enabled. . . . . . . . : No

Ethernet adapter 本地连接:

   Connection-specific DNS Suffix  . : 
   Description . . . . . . . . . . . : Intel(R) Ethernet Connection
   Physical Address. . . . . . . . . : 00-16-3C-07-C2-72
   DHCP Enabled. . . . . . . . . . . : Yes
   Autoconfiguration Enabled . . . . : Yes
   IPv4 Address. . . . . . . . . . . : a.b.c.3(Preferred) 
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : a.b.c.1
   DHCP Server . . . . . . . . . . . : a.b.c.1
   DNS Servers . . . . . . . . . . . : 8.8.8.8
                                       1.1.1.1
```

</details>

### 9.2.2 ping
<details><summary><font size="5"> 9.2.2 内容 </summary>

> ping通过发送[ICMP回声](https://github.com/navi0231/network-engineer-note/blob/main/5-Internet-connection/5.2.4ICMP-message-types.md)请求报文来检验与另外一个计算机的连接

- ping的语法如下：
   - ping [[-t]](#ping_t) [[-a]](#ping_a) [[-n Count]](#ping_n) [[-l Size]](#ping_l) [[-f]](#ping_f) [[-i TTL]](#ping_i) [[-v ToS]](#ping_v) [[-r Count]](#ping_r) [[-s Count]](#ping_s) [{[-j HostList](#ping_j) | [-k HostList](#ping_k)}] [[-w Timeout]](#ping_w) [[-TargetName]](#ping_TN)

- 命令参数解读如下：

|参数|具体解释|
|---:|---:|
|<span id="ping_t"> -t </span>|持续发送回声直到被中断|
|<span id="ping_a"> -a </span>|反向解析|
|<span id="ping_n"> -n *Count* </span>|指定发送回声次数|
|<span id="ping_l"> -l *Size* </span>|发送回声的字节数|
|<span id="ping_f"> -f </span>|force极限测试，测试最大报文长度|
|<span id="ping_i"> -i *TTL* </span>|指定IP头中TTL的值|
|<span id="ping_v"> -v *ToS* </span>|指定IP头中ToS的值|
|<span id="ping_r"> -r *Count* </span>|在IP头中添加路由记录|
|<span id="ping_s"> -s *Count* </span>|在IP头中添加时间戳|
|<span id="ping_j"> -j *HostList* </span>|在IP头中使用松散路由选项|
|<span id="ping_k"> -k *HostList* </span>|在IP头中使用严格路由选项|
|<span id="ping_w"> -w *Timeout* </span>|指定回声响应时间|
|<span id="ping_TN"> -TargetName </span>|用IP或主机名指定目标名称|

- 具体实例：
```
C:\Documents and Settings\Administrator>ping www.163.cn

pinging www.163.cn[219.137.167.157] with 32 bytes of data:

Reply from 219.137.167.157: byte=32 time=29ms TTL=54
Reply from 219.137.167.157: byte=32 time=29ms TTL=54
Reply from 219.137.167.157: byte=32 time=29ms TTL=54
Reply from 219.137.167.157: byte=32 time=29ms TTL=54

Ping statistics for 219.137.167.157:
    Packets: Sent = 4, Received = 4, Lost = 0<0% loss>,
Approximate round trip times in milli-seconds:
    Minimum = 29ms, Maximum = 29ms, Average = 29ms
```

</details>

### 9.2.3 ARP
<details><summary><font size="5"> 9.2.3 内容 </summary>

> arp命令用于显示和修改地址解析协议缓存表的内容。若使用不带参数的arp命令，则显示帮助信息
- arp语法如下：
   - arp [[-a](#arp_a) [*InetAddr*] [-N *IfaceAddr*]] [[-g](#arp_g) [*InetAddr*] [-N *IfaceAddr* ]] [[-d](#arp_d) [*InetAddr*] [*IfaceAddr*]]  [[-s](#arp_s) *InetAddr EtherAddr* [*IfaceAddr*]] 
   
命令参数解读如下：
| 命令 | 具体参数 |
|---:|---:|
|<span id="arp_a">[-a] [*InetAddr*] [-N *IfaceAddr*]</span>|显示所有接口的ARP缓存表
|<span id="arp_g">[-g] [*InetAddr*] [-N *IfaceAddr*]</span>|与[-a](#arp_a)相同
|<span id="arp_d">[-d] [*InetAddr*] [*IfaceAddr*]</span>|删除由InetAddr指示的ARP缓存表项|
|<span id="arp_s">[-s] *InetAddr EtherAddr* [*IfaceAddr*]</span>|添加一个静态的ARP表项|

实例如下：
```cmd
C:\> arp -a

Interface: 100.100.17.17 --- 0x10003
  Internet Address      Physical Address      Type
  100.100.17.254        00-0f-e2-29-31-c1     dynamic
C:\> arp -s 10.0.0.80 00-AA-00-4F-2A-9C
C:\> arp -a

Interface: 100.100.17.17 --- 0x10003
  Internet Address      Physical Address      Type
  100.100.17.254        00-0f-e2-29-31-c1     dynamic
  10.0.0.80             00-aa-00-4f-2a-9c     static
```
</details>

### 9.2.4 netstat
<details><summary><font size="5"> 9.2.4 内容 </summary>

> netstat命令用于显示TCP连接、计算机正在监听的端口、以太网统计信息、IP路由表、IPv4统计信息、IPv6统计信息等

- netstat命令语法如下：
   - netstat [[-a]](#netstat_a) [[-e]](#netstat_e) [[-n]](#netstat_n) [[-o]](#netstat_o) [[-p *Protocol*]](#netstat_p) [[-r]](#netstat_r) [[-s]](#netstat_s) [[Interval]](#netstat_Interval)

命令参数解读如下：
| 命令 | 具体参数 |
|---:|---:|
|<span id="netstat_a"> -a </span>|显示所有活动的TCP连接|
|<span id="netstat_e"> -e </span>|显示以太网统计信息|
|<span id="netstat_n"> -n </span>|用数字显示所有活动的TCP连接地址和端口号|
|<span id="netstat_o"> -o </span>|显示活动的TCP连接和每个连接对应的进程ID|
|<span id="netstat_p"> -p *Protocol* </span>|用标识符*Protocol*指定要显示的协议|
|<span id="netstat_s"> -s </span>|显示每个协议的统计数据|
|<span id="netstat_r"> -r </span>|显示IP路由表的内容|
|<span id="netstat_Interval"> *Interval* </span>|说明重新显示信息的时间间隔|
|Proto|表示协议名字(TCP|UDP)|
|Local Address|本地计算机地址与端口|
|Foreign Address|远程计算机地址与接口|

State：表示TCP连接状态，用以下状态：
|参数|状态|
|---:|---:|
|CLOSE_WAIT|收到对方的连接释放请求|
|CLOSED|连接已关闭|
|ESTABLISHED|连接已建立|
|FIN_WAIT_1|已发出连接释放请求|
|FIN_WAIT_2|等待对方的连接释放请求|
|LAST_ACK|等待对方的连接释放应答|
|LISTENING|正在监听端口|
|SYN_RECEIVED|收到对方的连接建立请求|
|SYN_SEND|已主动发出连接建立请求|
|TIMED_WAIT|等待一段时间后将释放连接|

实例如下：
```
C:\> netstat -an
  Active Connections
  Proto  Local Address          Foreign Address        State
  TCP    0.0.0.0:135            0.0.0.0:0              LISTENING
  TCP    192.168.1.100:443      1.1.1.1:52443          ESTABLISHED
  UDP    0.0.0.0:5353           *:*
```
</details>
